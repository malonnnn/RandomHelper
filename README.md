1. Convert DECORATE to ZScript: Rewrite the companion's actor definition using ZScript syntax.
2. Companion Properties: Give the companion and any of its summoned actors these properties: +FRIENDLY, Species "Companion", DamageFactor "Companion", 0 (Immune to their own damage type). Change the DamageType in their Melee and Missile states to "Companion".
3. Projectile Properties: All of the companion's projectiles (or +Missile actors) must have: Species "Companion", DamageType "Companion". Change the damage function DamageType in the projectile's Death states to "Companion".
4. Replace Puffs: Replace all default bullet puffs with "CompanionBulletPuff". This requires changing simple functions to the full version. Example: Change A_Explode (5); to A_Explode (5, -1, XF_EXPLICITDAMAGETYPE, false, 0, 0, 10, "CompanionBulletPuff", "Companion"); Note: Check and replace any functions from the ZDoom wiki's "Generic Monster Attacks" list.
5. Update Deprecated Functions: Replace all old functions (like A_PlaySound()) with their modern equivalents (like A_StartSound()). Check the console for warnings.
6. Add Alert Function: Insert the following line in all the monster's attack states to make it alert others: TNT1 A 0 A_AlertMonsters(0, AMF_TARGETEMITTER); Caution: Do not disrupt any Goto+<number> offsets. This step might be the most important, so read the attack state logic very carefully, making sure it never fires when the attack isn't going to be successfully fired.
7. Add to Globals: Define the new companion in the Globals.zsc file.
8. Create Deployer Gun: Copy, edit, and add a new Deployer Gun actor in CompanionDeployerGuns.zsc. Set BaseDeployer.price for its cost. Set SlotPriority equal to the price for proper menu ordering.
9. Create Ammo: Copy, edit, and add a new Ammo Type actor in CompanionAmmoTypes.zsc.
10. Include in Zscript.zsc: Add an #include statement for the new companion's ZScript file to Zscript.zsc.